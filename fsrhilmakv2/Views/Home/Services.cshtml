@model PagedList.IPagedList<fsrhilmakv2.Models.Service>
@using PagedList.Mvc;
@{
    ViewBag.Title = "Services";
    Layout = "~/Views/Shared/_Layout_main_New.cshtml";
    int Id = Int32.Parse(Request.QueryString["idd"]);
    string statuss = Request.QueryString["status"];
}

<head>
    <link href="~/css/MainPageStyles2.css" rel="stylesheet" />
    <style>
        .card-header {
            background-color: #3F51B5;
            color: white;
        }

        .card-footer {
            background-color: #3F51B5;
            color: white;
        }

        .card-title {
            font-size: large;
            font-weight: bold;
        }

        .card {
            direction: rtl;
            text-align: right;
            border: solid;
        }


        .content {
            margin-left: 75px;
            font-size: 30px;
        }
    </style>
</head>
<body>

    <div class="row" style="margin-top:25px;direction:rtl">
        <div class="col-md"></div>
        @if (Id == 26)
        {
            <div class="col-md text-center"><h1> خدمة تفسير أحلام</h1> </div>
            <div class="col-md">
                <img src="~/Images/NewDesign/خدمة تفسير أحلام.jpg" style="height:80px;width:80px;float:right;" />
            </div>
        }
        else if (Id == 27)
        {
            <div class="col-md text-center"><h1> خدمة رقية شرعية</h1> </div>
            <div class="col-md">
                <img src="~/Images/NewDesign/خدمة رقية شرعية.jpg" style="height:80px;width:80px;float:right;" />
            </div>
        }
        else if (Id == 28)
        {
            <div class="col-md text-center"><h1> خدمة إفتاء شرعي</h1> </div>
            <div class="col-md">
                <img src="~/Images/NewDesign/خدمة فتوى شرعية.jpg" style="height:80px;width:80px;float:right;" />
            </div>
        }
        else if (Id == 29)
        {
            <div class="col-md text-center"><h1> خدمة استشارة أسرية</h1> </div>
            <div class="col-md">
                <img src="~/Images/NewDesign/خدمة استشارة أسرية.jpg" style="height:80px;width:80px;float:right;" />
            </div>
        }
        else if (Id == 36)
        {
            <div class="col-md text-center"><h1> خدمة استشارة طبية</h1> </div>
            <div class="col-md">
                <img src="~/Images/NewDesign/خدمة استشارة طبية.jpg" style="height:80px;width:80px;float:right;" />
            </div>
        }
        else if (Id == 37)
        {
            <div class="col-md text-center"><h1> خدمة استشارة قانونية</h1> </div>
            <div class="col-md">
                <img src="~/Images/NewDesign/خدمة استشارة قضائية.jpg" style="height:80px;width:80px;float:right;" />
            </div>
        }


    </div>

  
    <br />

    <div class="row" dir="rtl">
        <div class="col-md">

        </div>
        <div class="col-md text-center">
            @{
                if (statuss == "Active")
                {
                    <button style="margin:5px;background-color:#323545;color:white" class="btn  btn-default" onclick="location.href='@Url.Action("Services", "Home",new { status="Done",idd=Id})'">
                        <i class="fa  pull-right" style="font-size:large"></i> الخدمات المفسرة
                    </button>

                    <button disabled style="margin:5px;background-color:#323545;color:white" class="btn  btn-default" onclick="location.href='@Url.Action("Services", "Home",new { status="Active",idd=Id})'">
                        <i class="fa  pull-right" style="font-size:large"></i> الخدمات قيد التفسير
                    </button>
                }
                else
                {
                    <button style="margin:5px;background-color:#323545;color:white" disabled class="btn  btn-default" onclick="location.href='@Url.Action("Services", "Home",new { status="Done",idd=Id})'">
                        <i class="fa  pull-right" style="font-size:large"></i> الخدمات المفسرة
                    </button>

                    <button style="margin:5px;background-color:#323545;color:white" class="btn btn-default" onclick="location.href='@Url.Action("Services", "Home",new { status="Active",idd=Id})'">
                        <i class="fa  pull-right" style="font-size:large"></i> الخدمات قيد التفسير
                    </button>
                }
            }
            
        </div>
        <div class="col-md">
            
        </div>
    </div>
    <br />


    <div class="row" style="direction:rtl">
        @foreach (var item in Model)
        {
            <div class="col-md-4" style="margin-top:10px;">
                <div class="card " style="height:100%!important">
                    <div class="card-header">
                        <div style="margin-right:10px">
                            <a style="color:white" href="@Url.Action("Service","Home",new { idd=item.id})"> الخدمة رقم @item.id</a>
                            @{
                                if (item.ServicePath.Cost > 0)
                                {
                                    <span style="float:left"> &nbsp; <i class="fa fa-money" style="font-size: large"> خدمة مدفوعة </i></span>
                                }
                                else
                                {
                                    <span style="float:left"> &nbsp; <i class="fa fa-money" style="font-size: large"> خدمة مجانية </i></span>
                                }
                            }
                        </div>
                    </div>
                    
                        <div class="card-body">

                            <a href="@Url.Action("Service","Home",new { idd=item.id})" style="text-decoration:none;color:black;font-size:large">
                                <div class="card-text">
                                    @{
                                        if (item.Description.Count() > 100)
                                        {
                                            <span>@item.Description.ToString().Substring(0, 100) </span>
                                            <span>
                                                <a href='@Url.Action("Service","Home",new { idd=item.id})'>أقرأ المزيد</a>
                                            </span>
                                        }
                                        else
                                        {
                                            <span>@item.Description</span>
                                        }

                                    }

                                </div>
                            </a>

</div>
                        
                        <div class="card-footer">
                            <span style="float:left"> &nbsp; &nbsp; <i class="fa fa-eye">  </i>&nbsp; @item.numberOfViews</span>
                            <span style="float:left"><i class="fa fa-heart"> </i>&nbsp;@item.numberOfLikes</span>
                        </div>
</div>
            </div>
                                }


    </div>

    <br />

    <div class="row">
        <div class="col-md"></div>
        <div class="col-md text-center" dir="rtl" style="text-align:center">
            الصفحة @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) من @Model.PageCount
               <div class="row">
                   <div class="col-md"></div>
                   <div class="col-md">
                       @Html.PagedListPager(Model, page => Url.Action("Services", new
                   {
                       page,
                       status = statuss,
                       size = ViewBag.size,
                       idd = Id
                   }
      ), PagedListRenderOptions.ClassicPlusFirstAndLast)
                   </div>
                   <div class="col-md"></div>
               </div>
        </div>
        <div class="col-md"></div>
    </div>
</body>
